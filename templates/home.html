{% extends "base.html" %}

{% block title %}Home - Iberdrola AI{% endblock %}

{% block content %}
<div class="home-container">
    <div class="home-header">
        <h1 class="home-title">Bienvenido a Iberdrola AI Marketing Suite</h1>
        <p class="home-subtitle">Selecciona una secci√≥n para comenzar</p>
    </div>

    <div class="home-grid">
        <!-- 1. Torre de Control -->
        <a href="{{ url_for('dashboard') }}" class="home-card">
            <div class="home-card-icon">üìä</div>
            <div class="home-card-content">
                <h2 class="home-card-title">Torre de Control</h2>
                <p class="home-card-description">
                    Dashboard principal con m√©tricas en tiempo real de todos los servicios de IA
                </p>
            </div>
            <div class="home-card-arrow">‚Üí</div>
        </a>

        <!-- 2. Documentaci√≥n -->
        <a href="{{ url_for('introduccion') }}" class="home-card">
            <div class="home-card-icon">üìö</div>
            <div class="home-card-content">
                <h2 class="home-card-title">Documentaci√≥n</h2>
                <p class="home-card-description">
                    Gu√≠a completa de la plataforma y documentaci√≥n t√©cnica de cada caso de uso
                </p>
            </div>
            <div class="home-card-arrow">‚Üí</div>
        </a>

        <!-- 3. Casos de Uso -->
        <div class="home-card home-card-with-selector">
            <div class="home-card-icon">üéØ</div>
            <div class="home-card-content">
                <h2 class="home-card-title">Casos de Uso</h2>
                <p class="home-card-description">
                    Accede directamente a cualquier caso de uso de IA para marketing
                </p>
                <div class="home-selector">
                    <label for="caso-uso-selector">Ir a caso de uso:</label>
                    <select id="caso-uso-selector" class="home-select" onchange="navigateToCasoUso(this.value)">
                        <option value="">-- Selecciona un caso de uso --</option>
                        {% if menu_config.menu_view_mode == 'roadmap' %}
                            <optgroup label="üöÄ Quick Wins (A√±o 1)">
                                {% for category in menu_config.categories %}
                                    {% for item in category.menu_items %}
                                        {% if item.roadmap_group == 'quick_wins' %}
                                            <option value="{{ item.endpoint }}">{{ item.icon }} {{ item.menu_name }}</option>
                                        {% endif %}
                                    {% endfor %}
                                {% endfor %}
                            </optgroup>
                            <optgroup label="üéØ A√±o 2+ Wins">
                                {% for category in menu_config.categories %}
                                    {% for item in category.menu_items %}
                                        {% if item.roadmap_group == 'year_2_plus' %}
                                            <option value="{{ item.endpoint }}">{{ item.icon }} {{ item.menu_name }}</option>
                                        {% endif %}
                                    {% endfor %}
                                {% endfor %}
                            </optgroup>
                        {% else %}
                            {% for category in menu_config.categories %}
                                <optgroup label="{{ category.title }}">
                                    {% for item in category.menu_items %}
                                        <option value="{{ item.endpoint }}">{{ item.icon }} {{ item.menu_name }}</option>
                                    {% endfor %}
                                </optgroup>
                            {% endfor %}
                        {% endif %}
                    </select>
                </div>
            </div>
        </div>

        <!-- 4. Integraci√≥n -->
        <div class="home-card home-card-with-selector">
            <div class="home-card-icon">üîó</div>
            <div class="home-card-content">
                <h2 class="home-card-title">Integraci√≥n</h2>
                <p class="home-card-description">
                    Gestiona integraciones de datos, APIs y conectores empresariales
                </p>
                <div class="home-selector">
                    <label for="integracion-selector">Ir a secci√≥n:</label>
                    <select id="integracion-selector" class="home-select" onchange="navigateToIntegracion(this.value)">
                        <option value="">-- Selecciona una secci√≥n --</option>
                        <option value="integracion_datos">üîå Integraci√≥n de Datos</option>
                        <option value="integracion_apis">üîó APIs & Conectores</option>
                        <option value="laboratorio">üß™ Laboratorio de Datos</option>
                        <option value="monitorizacion">üìä Monitorizaci√≥n & Auditor√≠a</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 5. Configuraci√≥n -->
        <a href="{{ url_for('configuracion') }}" class="home-card">
            <div class="home-card-icon">‚öôÔ∏è</div>
            <div class="home-card-content">
                <h2 class="home-card-title">Configuraci√≥n</h2>
                <p class="home-card-description">
                    Personaliza el men√∫, ajusta preferencias y configura la plataforma
                </p>
            </div>
            <div class="home-card-arrow">‚Üí</div>
        </a>
    </div>

    <!-- Stats r√°pidas -->
    <div class="home-stats">
        <div class="home-stat-item">
            <div class="home-stat-icon">üöÄ</div>
            <div class="home-stat-content">
                <div class="home-stat-value">10</div>
                <div class="home-stat-label">Casos de Uso IA</div>
            </div>
        </div>
        <div class="home-stat-item">
            <div class="home-stat-icon">üîå</div>
            <div class="home-stat-content">
                <div class="home-stat-value">8</div>
                <div class="home-stat-label">Fuentes de Datos</div>
            </div>
        </div>
        <div class="home-stat-item">
            <div class="home-stat-icon">üìä</div>
            <div class="home-stat-content">
                <div class="home-stat-value">15</div>
                <div class="home-stat-label">Integraciones Activas</div>
            </div>
        </div>
        <div class="home-stat-item">
            <div class="home-stat-icon">‚úÖ</div>
            <div class="home-stat-content">
                <div class="home-stat-value">99.9%</div>
                <div class="home-stat-label">Uptime</div>
            </div>
        </div>
    </div>
</div>

<script>
function navigateToCasoUso(endpoint) {
    if (endpoint) {
        window.location.href = '/' + endpoint;
    }
}

function navigateToIntegracion(endpoint) {
    if (endpoint) {
        window.location.href = '/' + endpoint.replace('_', '-');
    }
}
</script>

<!-- Incluir Asistente Virtual Fijo -->
{% include 'asistente_panel_fijo.html' %}

{% endblock %}

